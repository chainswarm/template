{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "Start Infrastructure",
      "type": "shell",
      "command": "bash",
      "args": [
        "${workspaceFolder}/scripts/dev/start-infra.sh"
      ],
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "problemMatcher": []
    },
    {
      "label": "Stop Infrastructure",
      "type": "shell",
      "command": "bash",
      "args": [
        "${workspaceFolder}/scripts/dev/stop-infra.sh"
      ],
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "problemMatcher": []
    },
    {
      "label": "Docker: Build Dev Container",
      "type": "shell",
      "command": "docker",
      "args": [
        "compose",
        "-f",
        "docker-compose.dev.yml",
        "build"
      ],
      "group": "build",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Docker: Run Dev Shell",
      "type": "shell",
      "command": "docker",
      "args": [
        "compose",
        "-f",
        "docker-compose.dev.yml",
        "run",
        "--rm",
        "dev",
        "bash"
      ],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "problemMatcher": []
    },
    {
      "label": "Docker: Run Python Script",
      "type": "shell",
      "command": "docker",
      "args": [
        "compose",
        "-f",
        "docker-compose.dev.yml",
        "run",
        "--rm",
        "dev",
        "python",
        "${relativeFile}"
      ],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Python: Run Tests",
      "type": "shell",
      "command": "pytest",
      "args": [
        "-v",
        "-s",
        "tests/"
      ],
      "group": "test",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Python: Format with Black",
      "type": "shell",
      "command": "black",
      "args": [
        "--line-length",
        "120",
        "${workspaceFolder}"
      ],
      "group": "none",
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Python: Sort Imports",
      "type": "shell",
      "command": "isort",
      "args": [
        "${workspaceFolder}"
      ],
      "group": "none",
      "presentation": {
        "reveal": "silent",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Git: Check Last 3 Commits",
      "type": "shell",
      "command": "git",
      "args": [
        "log",
        "--oneline",
        "-3"
      ],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "shared"
      },
      "problemMatcher": []
    },
    {
      "label": "Git: Show Recent Changes",
      "type": "shell",
      "command": "git",
      "args": [
        "diff",
        "HEAD~3..HEAD"
      ],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "problemMatcher": []
    },
    {
      "label": "View Infrastructure Logs",
      "type": "shell",
      "command": "docker",
      "args": [
        "compose",
        "-f",
        "infrastructure/docker-compose.yml",
        "logs",
        "-f"
      ],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "problemMatcher": [],
      "isBackground": true
    },
    {
      "label": "View Observability Logs",
      "type": "shell",
      "command": "docker",
      "args": [
        "compose",
        "-f",
        "infrastructure/observability/docker-compose.yml",
        "logs",
        "-f"
      ],
      "group": "none",
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "problemMatcher": [],
      "isBackground": true
    }
  ]
}
